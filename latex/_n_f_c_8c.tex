\hypertarget{_n_f_c_8c}{\section{N\-F\-C.\-c 파일 참조}
\label{_n_f_c_8c}\index{N\-F\-C.\-c@{N\-F\-C.\-c}}
}
{\ttfamily \#include \char`\"{}Commnucation/\-N\-F\-C.\-h\char`\"{}}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$app\-\_\-control.\-h$>$}\\*
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_n_f_c_8h_struct_n_d_e_f}{N\-D\-E\-F} \hyperlink{_n_f_c_8c_a34d5da2bbb95a1a046f787f4d62d4c81}{Create\-N\-D\-E\-F} (\hyperlink{dit_8h_a2efe6d463d80744789f228f5dc4baa39}{String} tag, \hyperlink{dit_8h_a2efe6d463d80744789f228f5dc4baa39}{String} msg)
\item 
void \hyperlink{_n_f_c_8c_ac7b8ed054a4665a5812ce95f5c4ec80b}{Delete\-N\-D\-E\-F} (\hyperlink{_n_f_c_8h_struct_n_d_e_f}{N\-D\-E\-F} $\ast$ndef)
\item 
\hyperlink{namespace_3global_scope_4_struct_n_f_c}{N\-F\-C} \hyperlink{_n_f_c_8c_a48f478b4cbd0ffadfa36a52f23ef6a1b}{New\-N\-F\-C} ()
\item 
void \hyperlink{_n_f_c_8c_a48862ff9221dee42447da630e6327f14}{Destory\-N\-F\-C} (\hyperlink{namespace_3global_scope_4_struct_n_f_c}{N\-F\-C} this\-\_\-gen)
\item 
bool \hyperlink{_n_f_c_8c_af4d6a3d2d34a4e040db1c9558d3a6605}{is\-N\-F\-C\-Accessible} (\hyperlink{namespace_3global_scope_4_struct_n_f_c}{N\-F\-C} this\-\_\-gen)
\item 
bool \hyperlink{_n_f_c_8c_ace29c66a88baa5247a996d2f324532ff}{on\-N\-F\-C\-Connect} (\hyperlink{namespace_3global_scope_4_struct_n_f_c}{N\-F\-C} this\-\_\-gen)
\item 
bool \hyperlink{_n_f_c_8c_a967e0ea57b1755212f3793e2b6133f46}{on\-N\-F\-C\-Disconnect} (\hyperlink{namespace_3global_scope_4_struct_n_f_c}{N\-F\-C} this\-\_\-gen)
\item 
void \hyperlink{_n_f_c_8c_a391630c994207503df21aa33b58bcb1a}{N\-F\-C\-Send} (\hyperlink{namespace_3global_scope_4_struct_n_f_c}{N\-F\-C} this\-\_\-gen, \hyperlink{_n_f_c_8h_struct_n_d_e_f}{N\-D\-E\-F} message)
\item 
\hyperlink{_n_f_c_8h_struct_n_d_e_f}{N\-D\-E\-F} \hyperlink{_n_f_c_8c_ae8da301bbf98e31b07f5c5f541a7976c}{N\-F\-C\-Recv} (\hyperlink{namespace_3global_scope_4_struct_n_f_c}{N\-F\-C} this\-\_\-gen)
\end{DoxyCompactItemize}


\subsection{함수 문서화}
\hypertarget{_n_f_c_8c_a34d5da2bbb95a1a046f787f4d62d4c81}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!Create\-N\-D\-E\-F@{Create\-N\-D\-E\-F}}
\index{Create\-N\-D\-E\-F@{Create\-N\-D\-E\-F}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{Create\-N\-D\-E\-F}]{\setlength{\rightskip}{0pt plus 5cm}{\bf N\-D\-E\-F} Create\-N\-D\-E\-F (
\begin{DoxyParamCaption}
\item[{{\bf String}}]{tag, }
\item[{{\bf String}}]{msg}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_a34d5da2bbb95a1a046f787f4d62d4c81}


N\-F\-C.\-c 파일의 9 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10 \{
11     \hyperlink{_n_f_c_8h_struct_n_d_e_f}{NDEF} ndef = \{0, 0\};
12 
13     ndef.\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag} = (\hyperlink{dit_8h_a2efe6d463d80744789f228f5dc4baa39}{String})malloc (strlen (tag) + 1);
14     strcpy(ndef.\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag}, tag);
15 
16     ndef.\hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg} = (\hyperlink{dit_8h_a2efe6d463d80744789f228f5dc4baa39}{String})malloc (strlen (msg) + 1);
17     strcpy(ndef.\hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg}, msg);
18 
19     \textcolor{keywordflow}{return} ndef;
20 \}
\end{DoxyCode}
\hypertarget{_n_f_c_8c_ac7b8ed054a4665a5812ce95f5c4ec80b}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!Delete\-N\-D\-E\-F@{Delete\-N\-D\-E\-F}}
\index{Delete\-N\-D\-E\-F@{Delete\-N\-D\-E\-F}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{Delete\-N\-D\-E\-F}]{\setlength{\rightskip}{0pt plus 5cm}void Delete\-N\-D\-E\-F (
\begin{DoxyParamCaption}
\item[{{\bf N\-D\-E\-F} $\ast$}]{ndef}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_ac7b8ed054a4665a5812ce95f5c4ec80b}


N\-F\-C.\-c 파일의 22 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
23 \{
24     \textcolor{keywordflow}{if} ( ndef != NULL)
25     \{
26         \textcolor{keywordflow}{if} ( ndef->\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag} != NULL)
27         \{
28             free (ndef->\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag});
29         \}
30 
31         \textcolor{keywordflow}{if} ( ndef->\hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg} != NULL)
32         \{
33             free (ndef->\hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg});
34         \}
35     \}
36 \}
\end{DoxyCode}
\hypertarget{_n_f_c_8c_a48862ff9221dee42447da630e6327f14}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!Destory\-N\-F\-C@{Destory\-N\-F\-C}}
\index{Destory\-N\-F\-C@{Destory\-N\-F\-C}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{Destory\-N\-F\-C}]{\setlength{\rightskip}{0pt plus 5cm}void Destory\-N\-F\-C (
\begin{DoxyParamCaption}
\item[{{\bf N\-F\-C}}]{this\-\_\-gen}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_a48862ff9221dee42447da630e6327f14}


N\-F\-C.\-c 파일의 51 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
52 \{
53     \textcolor{keywordflow}{if} ( this\_gen != NULL)
54     \{
55         \hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} * \textcolor{keyword}{this} = (\hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} *)this\_gen;
56 
57         \hyperlink{_n_f_c_8c_ac7b8ed054a4665a5812ce95f5c4ec80b}{DeleteNDEF} (&this->ndefMessage);
58         free (\textcolor{keyword}{this});
59     \}
60 \}
\end{DoxyCode}
\hypertarget{_n_f_c_8c_af4d6a3d2d34a4e040db1c9558d3a6605}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!is\-N\-F\-C\-Accessible@{is\-N\-F\-C\-Accessible}}
\index{is\-N\-F\-C\-Accessible@{is\-N\-F\-C\-Accessible}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{is\-N\-F\-C\-Accessible}]{\setlength{\rightskip}{0pt plus 5cm}bool is\-N\-F\-C\-Accessible (
\begin{DoxyParamCaption}
\item[{{\bf N\-F\-C}}]{this\-\_\-gen}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_af4d6a3d2d34a4e040db1c9558d3a6605}


N\-F\-C.\-c 파일의 62 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
63 \{
64     \textcolor{keywordflow}{if} ( this\_gen != NULL)
65     \{
66         \hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} * \textcolor{keyword}{this} = (\hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} *)this\_gen;
67 
68         \textcolor{keywordtype}{bool} ret;
69         system\_info\_get\_platform\_bool (\textcolor{stringliteral}{"http://tizen.org/feature/network.nfc"}, &ret);
70 
71         \textcolor{keywordflow}{if} ( ret == \textcolor{keyword}{true} )
72         \{
73             nfc\_manager\_set\_tag\_filter (NFC\_TAG\_FILTER\_ALL\_ENABLE);
74         \}
75         this->access = ret;
76 
77         \textcolor{keywordflow}{return} ret;
78     \}
79     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
80 \}
\end{DoxyCode}
\hypertarget{_n_f_c_8c_a48f478b4cbd0ffadfa36a52f23ef6a1b}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!New\-N\-F\-C@{New\-N\-F\-C}}
\index{New\-N\-F\-C@{New\-N\-F\-C}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{New\-N\-F\-C}]{\setlength{\rightskip}{0pt plus 5cm}{\bf N\-F\-C} New\-N\-F\-C (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_a48f478b4cbd0ffadfa36a52f23ef6a1b}


N\-F\-C.\-c 파일의 38 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
39 \{
40     \hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} * \textcolor{keyword}{this} = (\hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} *)malloc (\textcolor{keyword}{sizeof} (
      \hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends}));
41 
42     this->nfc.isAccessible = \hyperlink{_n_f_c_8c_af4d6a3d2d34a4e040db1c9558d3a6605}{isNFCAccessible};
43     this->nfc.onConnect    = \hyperlink{_n_f_c_8c_ace29c66a88baa5247a996d2f324532ff}{onNFCConnect};
44     this->nfc.onDisconnect = \hyperlink{_n_f_c_8c_a967e0ea57b1755212f3793e2b6133f46}{onNFCDisconnect};
45     this->nfc.Send         = \hyperlink{_n_f_c_8c_a391630c994207503df21aa33b58bcb1a}{NFCSend};
46     this->nfc.Recv         = \hyperlink{_n_f_c_8c_ae8da301bbf98e31b07f5c5f541a7976c}{NFCRecv};
47 
48     \textcolor{keywordflow}{return} &this->nfc;
49 \}
\end{DoxyCode}
\hypertarget{_n_f_c_8c_ae8da301bbf98e31b07f5c5f541a7976c}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!N\-F\-C\-Recv@{N\-F\-C\-Recv}}
\index{N\-F\-C\-Recv@{N\-F\-C\-Recv}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{N\-F\-C\-Recv}]{\setlength{\rightskip}{0pt plus 5cm}{\bf N\-D\-E\-F} N\-F\-C\-Recv (
\begin{DoxyParamCaption}
\item[{{\bf N\-F\-C}}]{this\-\_\-gen}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_ae8da301bbf98e31b07f5c5f541a7976c}


N\-F\-C.\-c 파일의 190 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
191 \{
192     \hyperlink{_n_f_c_8h_struct_n_d_e_f}{NDEF} ret = \{0, 0\};
193     \textcolor{keywordflow}{if} ( this\_gen != NULL)
194     \{
195         \hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} * \textcolor{keyword}{this} = (\hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} *)this\_gen;
196         \textcolor{keywordtype}{bool} access = this->access;
197 
198         \textcolor{keywordflow}{if} ( access == \textcolor{keyword}{true} )
199         \{
200             nfc\_tag\_h tag;
201             nfc\_tag\_read\_ndef (tag, NULL, NULL);
202 
203             \textcolor{keywordtype}{char} tagChar[1000];
204             \textcolor{keywordtype}{int}  tagLength;
205             \textcolor{comment}{//todo Correct}
206             nfc\_ndef\_record\_get\_type (NULL, &tagChar, &tagLength);
207             ret.\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag} = (\hyperlink{dit_8h_a2efe6d463d80744789f228f5dc4baa39}{String})malloc (tagLength + 1);
208             strcpy(ret.\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag}, tagChar);
209 
210             \textcolor{keywordtype}{char} msgChar[1000];
211             \textcolor{keywordtype}{int}  msgLength;
212             \textcolor{comment}{//todo Correct}
213             nfc\_ndef\_record\_get\_type (NULL, &msgChar, &msgLength);
214             ret.\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag} = (\hyperlink{dit_8h_a2efe6d463d80744789f228f5dc4baa39}{String})malloc (msgLength + 1);
215             strcpy(ret.\hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg}, msgChar);
216         \}
217     \}
218     \textcolor{keywordflow}{return} ret;
219 \}
\end{DoxyCode}
\hypertarget{_n_f_c_8c_a391630c994207503df21aa33b58bcb1a}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!N\-F\-C\-Send@{N\-F\-C\-Send}}
\index{N\-F\-C\-Send@{N\-F\-C\-Send}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{N\-F\-C\-Send}]{\setlength{\rightskip}{0pt plus 5cm}void N\-F\-C\-Send (
\begin{DoxyParamCaption}
\item[{{\bf N\-F\-C}}]{this\-\_\-gen, }
\item[{{\bf N\-D\-E\-F}}]{message}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_a391630c994207503df21aa33b58bcb1a}


N\-F\-C.\-c 파일의 151 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
152 \{
153     \textcolor{keywordflow}{if} ( this\_gen != NULL)
154     \{
155         \hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} * \textcolor{keyword}{this} = (\hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} *)this\_gen;
156 
157         \textcolor{keywordtype}{bool} access = this->access;
158         \textcolor{keywordtype}{bool} ret    = \textcolor{keyword}{true};
159 
160         \textcolor{keywordflow}{if} ( access == \textcolor{keyword}{true} )
161         \{
162             nfc\_ndef\_message\_h ndef\_message = NULL;
163             nfc\_ndef\_message\_create (&ndef\_message);
164 
165             \textcolor{keywordflow}{if} ( strcmp (message.\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag}, \textcolor{stringliteral}{"TEXT"}) == 0 )
166             \{
167                 nfc\_ndef\_record\_create\_text (&ndef\_message, message.\hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg}, \textcolor{stringliteral}{"en-US"}, NFC\_ENCODE\_UTF\_8);
168             \}
169             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( strcmp (message.\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag}, \textcolor{stringliteral}{"URI"}) == 0 )
170             \{
171                 nfc\_ndef\_record\_create\_uri (&ndef\_message, message.\hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg});
172             \}
173             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( strcmp (message.\hyperlink{_n_f_c_8h_a3d1b2b9aa7be6b4548fc2e6dbd97103f}{tag}, \textcolor{stringliteral}{"MIME"}) == 0 )
174             \{
175                 nfc\_ndef\_record\_create\_mime (&ndef\_message, \textcolor{stringliteral}{"image/jpeg"}, message.
      \hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg}, sizeof (message.\hyperlink{_n_f_c_8h_a05873af37984ef32c8ba2a6308956bb3}{msg}));
176             \}
177             \textcolor{keywordflow}{else}
178             \{
179                 \textcolor{keywordflow}{return};
180             \}
181 
182             nfc\_tag\_h tag;
183             nfc\_tag\_write\_ndef (tag, ndef\_message, NULL, NULL);
184 
185             nfc\_ndef\_record\_destroy (&ndef\_message);
186         \}
187     \}
188 \}
\end{DoxyCode}
\hypertarget{_n_f_c_8c_ace29c66a88baa5247a996d2f324532ff}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!on\-N\-F\-C\-Connect@{on\-N\-F\-C\-Connect}}
\index{on\-N\-F\-C\-Connect@{on\-N\-F\-C\-Connect}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{on\-N\-F\-C\-Connect}]{\setlength{\rightskip}{0pt plus 5cm}bool on\-N\-F\-C\-Connect (
\begin{DoxyParamCaption}
\item[{{\bf N\-F\-C}}]{this\-\_\-gen}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_ace29c66a88baa5247a996d2f324532ff}


N\-F\-C.\-c 파일의 82 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
83 \{
84     \textcolor{keywordflow}{if} ( this\_gen != NULL)
85     \{
86         \hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} * \textcolor{keyword}{this} = (\hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} *)this\_gen;
87 
88         \textcolor{keywordtype}{bool} access = this->access;
89         \textcolor{keywordtype}{bool} ret    = \textcolor{keyword}{true};
90 
91         \textcolor{keywordflow}{if} ( access == \textcolor{keyword}{false} )
92         \{
93             \textcolor{keywordtype}{int} r;
94             nfc\_manager\_initialize ();
95             nfc\_manager\_is\_supported ();
96 
97             \textcolor{comment}{//NFC 메니저 생성}
98             app\_control\_h service = NULL;
99             app\_control\_create (&service);
100 
101             \textcolor{comment}{//app\_control 생성}
102             app\_control\_set\_operation (service, \textcolor{stringliteral}{"http://tizen.org/appcontrol/operation/setting/nfc"});
103             app\_control\_add\_extra\_data (service, \textcolor{stringliteral}{"type"}, \textcolor{stringliteral}{"nfc"});
104             r = app\_control\_send\_launch\_request (service, NULL, NULL);
105             \textcolor{comment}{//NFC 켜기}
106             \textcolor{keywordflow}{if} ( r != APP\_CONTROL\_ERROR\_NONE )
107             \{
108                 ret = \textcolor{keyword}{false};
109             \}
110             app\_control\_destroy (service);
111 
112             nfc\_manager\_set\_tag\_filter (NFC\_TAG\_FILTER\_ALL\_ENABLE);
113 
114             \textcolor{keywordflow}{if} ( nfc\_manager\_is\_system\_handler\_enabled () != \textcolor{keyword}{true} )
115             \{
116                 \textcolor{keywordflow}{if} ( nfc\_manager\_set\_system\_handler\_enable (\textcolor{keyword}{true}) == NFC\_ERROR\_NONE )
117                 \{
118                     ret = \textcolor{keyword}{true};
119                 \}
120                 \textcolor{keywordflow}{else}
121                 \{
122                     ret = \textcolor{keyword}{false};
123                 \}
124             \}
125         \}
126         \textcolor{keywordflow}{return} ret;
127     \}
128     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
129 \}
\end{DoxyCode}
\hypertarget{_n_f_c_8c_a967e0ea57b1755212f3793e2b6133f46}{\index{N\-F\-C.\-c@{N\-F\-C.\-c}!on\-N\-F\-C\-Disconnect@{on\-N\-F\-C\-Disconnect}}
\index{on\-N\-F\-C\-Disconnect@{on\-N\-F\-C\-Disconnect}!NFC.c@{N\-F\-C.\-c}}
\subsubsection[{on\-N\-F\-C\-Disconnect}]{\setlength{\rightskip}{0pt plus 5cm}bool on\-N\-F\-C\-Disconnect (
\begin{DoxyParamCaption}
\item[{{\bf N\-F\-C}}]{this\-\_\-gen}
\end{DoxyParamCaption}
)}}\label{_n_f_c_8c_a967e0ea57b1755212f3793e2b6133f46}


N\-F\-C.\-c 파일의 131 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
132 \{
133     \textcolor{keywordflow}{if} ( this\_gen != NULL)
134     \{
135         \hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} * \textcolor{keyword}{this} = (\hyperlink{_n_f_c_8h_struct_n_f_c_extends}{NFCExtends} *)this\_gen;
136 
137         \textcolor{keywordtype}{bool} access = this->access;
138         \textcolor{keywordtype}{bool} ret    = \textcolor{keyword}{false};
139 
140         \textcolor{keywordflow}{if} ( access == \textcolor{keyword}{true} )
141         \{
142             nfc\_manager\_deinitialize ();
143             ret = \textcolor{keyword}{true};
144         \}
145 
146         \textcolor{keywordflow}{return} ret;
147     \}
148     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
149 \}
\end{DoxyCode}
